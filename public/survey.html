<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Muppet Compatibility</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"></script>
</head>

<body>
    <form class="survey-form">
    <div class="container">
        <h3>It's time to get things started!</h3>
        <div class="form-group col-md-6">
            <label for="name">Please enter your name</label>
            <input type="text" class="form-control" id="name">
        </div>
        <div class="form-group col-md-6">
            <label for="photo">and a picture of yourself (URL please)</label>
            <input type="text" class="form-control" id="photo">
        </div>
    </div>
    <div class="container">
        <h3><strong><font color="green">Question 1</font></strong></h3>
        <h4><strong>I like to make people happy.</strong></h4>
        <select class="custom-select" id="q1">
            <option selected>Choose the best answer</option>
            <option value="5">5 (Strongly Agree)</option>
            <option value="4">4 (Agree)</option>
            <option value="3">3 (Neutral)</option>
            <option value="2">2 (Disagree)</option>
            <option value="1">1 (Strongly Disagree)</option>
        </select>
        <br>
        <h3><strong><font color="blue">Question 2</font></strong></h3>
        <h4><strong>The most important person in the world is me.</strong></h4>
        <select class="custom-select" id="q2">
            <option selected>Choose the best answer</option>
            <option value="5">5 (Strongly Agree)</option>
            <option value="4">4 (Agree)</option>
            <option value="3">3 (Neutral)</option>
            <option value="2">2 (Disagree)</option>
            <option value="1">1 (Strongly Disagree)</option>
        </select>
        <br>
        <h3><strong><font color="orange">Question 3</font></strong></h3>
        <h4><strong>From time to time I get weird, and I'm kinda proud about it.</strong></h4>
        <select class="custom-select" id="q3">
            <option selected>Choose the best answer</option>
            <option value="5">5 (Strongly Agree)</option>
            <option value="4">4 (Agree)</option>
            <option value="3">3 (Neutral)</option>
            <option value="2">2 (Disagree)</option>
            <option value="1">1 (Strongly Disagree)</option>
        </select>
        <br>
        <h3><strong><font color="pink">Question 4</font></strong></h3>
        <h4><strong>I consider myself a leader, not a follower.</strong></h4>
        <select class="custom-select" id="q4">
            <option selected>Choose the best answer</option>
            <option value="5">5 (Strongly Agree)</option>
            <option value="4">4 (Agree)</option>
            <option value="3">3 (Neutral)</option>
            <option value="2">2 (Disagree)</option>
            <option value="1">1 (Strongly Disagree)</option>
        </select>
        <br>
        <h3><strong><font color="red">Question 5</font></strong></h3>
        <h4><strong>My ideal meal is fish and chips.</strong></h4>
        <select class="custom-select" id="q5">
            <option selected>Choose the best answer</option>
            <option value="5">5 (Strongly Agree)</option>
            <option value="4">4 (Agree)</option>
            <option value="3">3 (Neutral)</option>
            <option value="2">2 (Disagree)</option>
            <option value="1">1 (Strongly Disagree)</option>
        </select>
        <br>
        <h3><strong><font color="yellow">Question 6</font></strong></h3>
        <h4><strong>I am often the funniest person in the room.</strong></h4>
        <select class="custom-select" id="q6">
            <option selected>Choose the best answer</option>
            <option value="5">5 (Strongly Agree)</option>
            <option value="4">4 (Agree)</option>
            <option value="3">3 (Neutral)</option>
            <option value="2">2 (Disagree)</option>
            <option value="1">1 (Strongly Disagree)</option>
        </select>
        <br>
        <h3><strong><font color="green">Question 7</font></strong></h3>
        <h4><strong>It's not that easy being green.</strong></h4>
        <select class="custom-select" id="q7">
            <option selected>Choose the best answer</option>
            <option value="5">5 (Strongly Agree)</option>
            <option value="4">4 (Agree)</option>
            <option value="3">3 (Neutral)</option>
            <option value="2">2 (Disagree)</option>
            <option value="1">1 (Strongly Disagree)</option>
        </select>
        <br>
        <h3><strong><font color="purple">Question 8</font></strong></h3>
        <h4><strong>Science and mathematics come easy to me.</strong></h4>
        <select class="custom-select" id="q8">
            <option selected>Choose the best answer</option>
            <option value="5">5 (Strongly Agree)</option>
            <option value="4">4 (Agree)</option>
            <option value="3">3 (Neutral)</option>
            <option value="2">2 (Disagree)</option>
            <option value="1">1 (Strongly Disagree)</option>
        </select>
        <br>
        <h3><strong><font color="orange">Question 9</font></strong></h3>
        <h4><strong>I prefer having 5 good friends over 50 acquaintances.</strong></h4>
        <select class="custom-select" id="q9">
            <option selected>Choose the best answer</option>
            <option value="5">5 (Strongly Agree)</option>
            <option value="4">4 (Agree)</option>
            <option value="3">3 (Neutral)</option>
            <option value="2">2 (Disagree)</option>
            <option value="1">1 (Strongly Disagree)</option>
        </select>
        <br>
        <h3><strong><font color="blue">Question 10</font></strong></h3>
        <h4><strong>I feel that, in some surreal way, someone else has a hand in everything I do.</strong></h4>
        <select class="custom-select" id="q10">
            <option selected>Choose the best answer</option>
            <option value="5">5 (Strongly Agree)</option>
            <option value="4">4 (Agree)</option>
            <option value="3">3 (Neutral)</option>
            <option value="2">2 (Disagree)</option>
            <option value="1">1 (Strongly Disagree)</option>
        </select>
        <br>
        <br>
<div id="modal" class="modal fade">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Your match is...</h2>
        <img id="match-image">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p></p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
        <button type="button" id="submit" class="btn btn-info btn-lg btn-block">Submit</button>
    </div>
    <br>
</form>
</body>
<script type="text/javascript">

$("#submit").on("click", function() {
    event.preventDefault();

    var item1 = parseInt($("#q1").val());
    var item2 = parseInt($("#q2").val());
    var item3 = parseInt($("#q3").val());
    var item4 = parseInt($("#q4").val());
    var item5 = parseInt($("#q5").val());
    var item6 = parseInt($("#q6").val());
    var item7 = parseInt($("#q7").val());
    var item8 = parseInt($("#q8").val());
    var item9 = parseInt($("#q9").val());
    var item10 = parseInt($("#q10").val());

    var userProfile = {
        name: $("#name").val().trim(),
        photo: $("#photo").val().trim(),
        scores: [
            item1,
            item2,
            item3,
            item4,
            item5,
            item6,
            item7,
            item8,
            item9,
            item10
        ]
    };

    console.log(userProfile);
    
    // alert("The button works.")

    $.post("/api/friends", userProfile, function(data) {
        console.log(data);
        if (data) {
            $(".modal-body").text(data.name);

            $("#match-image").attr('src', data.photo)
            // $("modal-body").append(friendImage)
            $("#modal").modal("toggle");
            console.log(data.name + data.photo);
        }
        
         else {
            $(".modal-body").html("There are currently a lot of Muppet matches to sort. Please try again in a bit!");
            $("#modal").modal("toggle");
        };
    });
});

</script>

</html>